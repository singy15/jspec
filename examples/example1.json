{
  "VIEW_COMPONENT_TYPE": {
    "DATETIMEPICKER": {},
    "TEXTBOX": {},
    "NUMBERBOX": {},
    "BUTTON": {}
  },
  "DATA_TYPE": {
    "DATETIME": {},
    "TEXT": {},
    "NUMBER": {}
  },
  "IO_TYPE": {
    "DB": {},
    "FILE": {},
    "MODEL": {}
  },
  "LAYOUT_TYPE": {
    "RECTANGLE": {},
    "LINE": {}
  },
  "DOMAIN_TYPE": {
    "SALE_NO": {
      "type": "#DATA_TYPE.TEXT",
      "maxLength": 12,
      "minLength": 12,
      "validator": "value"
    }
  },
  "packages$": {
    "SALE": {
      "views$": {
        "REGISTER_SALE": {
          "viewComponents$": {
            "SALE_NO": {
              "type": "#VIEW_COMPONENT_TYPE.NUMBERBOX",
              "label": "売上No",
              "layout": {
                "type": "#LAYOUT_TYPE.RECTANGLE",
                "x": 100,
                "y": 100,
                "width": 200,
                "height": 24
              }
            },
            "ISSUE_DATE": {
              "type": "#VIEW_COMPONENT_TYPE.DATETIMEPICKER",
              "label": "発行日",
              "layout": {
                "type": "#LAYOUT_TYPE.RECTANGLE",
                "x": 100,
                "y": 100,
                "width": 200,
                "height": 24
              }
            },
            "DESCRIPTION": {
              "type": "#VIEW_COMPONENT_TYPE.TEXTBOX",
              "label": "備考",
              "layout": {
                "type": "#LAYOUT_TYPE.RECTANGLE",
                "x": 100,
                "y": 100,
                "width": 200,
                "height": 24
              }
            },
            "AMOUNT": {
              "type": "#VIEW_COMPONENT_TYPE.NUMBERBOX",
              "label": "金額",
              "layout": {
                "type": "#LAYOUT_TYPE.RECTANGLE",
                "x": 100,
                "y": 100,
                "width": 200,
                "height": 24
              }
            }
          }
        }
      },
      "processes$": {
        "REGISTER": {
          "params$": {
            "VIEW": "#SALE.views$.REGISTER_SALE"
          },
          "steps$": {
            "list$": [
              "(use-package #DOMAIN_SALE)",
              "(define model (new #.models$.SALE))",
              "(copy-to @VIEW model)",
              "(#.ios$.INSERT_SALE model)"
            ]
          }
        },
        "DELETE": {
          "params$": {
            "VIEW": "#SALE.views$.REGISTER_SALE"
          },
          "steps$": {
            "list$": [
              "(exec 'DELETE FROM SALE WHERE SALE_NO = ${VIEW.SALE_NO}')"
            ]
          }
        }
      }
    },
    "DOMAIN_SALE": {
      "ios$": {
        "INSERT_SALE": {
          "type": "#IO_TYPE.DB",
          "params$": {
            "MODEL": {
              "type": "#DOMAIN_SALE.models$.SALE"
            }
          },
          "sql": "INSERT INTO SALE \n(SALE_NO,ISSUE_DATE,DESCRIPTION,AMOUNT) \nVALUES (@MODEL.SALE_NO,@MODEL.ISSUE_DATE,@MODEL.DESCRIPTION,@MODEL.AMOUNT)"
        },
        "DELETE_SALE": {
          "type": "#IO_TYPE.DB",
          "params$": {
            "MODEL": {
              "type": "#DOMAIN_SALE.models$.SALE"
            }
          },
          "sql": "DELETE FROM SALE WHERE SALE_NO = @MODEL.SALE_NO"
        },
        "SELECT_SALE": {
          "type": "#IO_TYPE.DB",
          "params$": {
            "MODEL": {
              "type": "#DOMAIN_SALE.models$.SALE"
            }
          },
          "sql": "SELECT * FROM SALE WHERE SALE_NO = @MODEL.SALE_NO"
        }
      },
      "models$": {
        "SALE": {
          "SALE_NO": {
            "type": "#DATA_TYPE.NUMBER"
          },
          "ISSUE_DATE": {
            "type": "#DATA_TYPE.DATETIME"
          },
          "DESCRIPTION": {
            "type": "#DATA_TYPE.TEXT"
          },
          "AMOUNT": {
            "type": "#DATA_TYPE.NUMBER"
          }
        }
      }
    }
  }
}